!function(t){var e={};function n(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(a,i,function(e){return t[e]}.bind(null,i));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([,,,,,function(t,e,n){"use strict";n.r(e);n(6);const a=n(7);var i,o,s,r,l,c,d,u,p,f,g,m,y,h,v,b=null,w=!1;if(chrome.runtime.sendMessage({type:"getCssText"},function(t){!function(t){document.addEventListener("selectionchange",function(e){clearTimeout(s),s=setTimeout(function(){if(!b||!b.contains(e.target)){var n=window.getSelection();if(0!==n.rangeCount){var s=(y=n.getRangeAt(0)).toString().replace(/^\s*|\s*$/,"");if(!(""===s&&w||""===(r=s.toLowerCase())||r.length>200||/[\u4e00-\u9fa5]+/.test(r))){for(var x=n.anchorNode;1===x.nodeType&&/fanyinotme/.test(x.className)&&x.parentNode||1!==x.nodeType&&x.parentNode;)x=x.parentNode;if(c=x.getAttribute("yujing-id"),d=x.getAttribute("fanyi-string"),u=x.getAttribute("fanyi-projectid"),f=x.getAttribute("fanyi-mark-source"),p=x.getAttribute("fanyi-extra-data"),u||(u="chajian"),p)try{p=JSON.parse(p)}catch(t){console.error(t)}if(null===(l=x.getAttribute("yujing-string"))&&(l=x.innerText.replace(/(^[^a-zA-z]+|[^a-zA-z]+$)/,"").substr(0,100)),null===f&&(f="chajian"),!(b=document.getElementById("mlifeTranslationWrap"))){(b=document.createElement("section")).id="mlifeTranslationWrap",b.style.cssText="position:fixed;top:-10000px;left:0;",b.addEventListener("transitionend",function(t){var e=v.getElementById("translation-content");/show/.test(e.className)||(b.style.top="-10000px",b.style.bottom="auto")},!1),v=b.attachShadow({mode:"open"});var E=document.createElement("style");E.innerHTML=t,v.appendChild(E),h=document.createElement("div"),v.appendChild(h),document.body.appendChild(b),v.addEventListener("click",function(t){var e,n,a=document.documentElement.clientWidth,i=document.documentElement.clientHeight,s=585;if("baidu-go-detail"==t.target.className){if("https:"!==location.protocol)return void window.open(`https://translate.google.com/#view=home&op=translate&sl=en&tl=zh-CN&text=${r}`,"_blank");if(e=b.getBoundingClientRect(),a-e.right<e.left)e.left>595?n=e.left-595:(n=5,s=e.left-10);else{var l=a-e.right;n=e.right+5,l<595&&(s=l-10)}o.src=`https://fanyi.baidu.com?iframe=true&temp=${1*new Date}/#en/zh/${r}`,o.style.height=i-40+"px",o.style.width=s+"px",o.style.left=n+"px"}"google-go-detail"==t.target.className&&window.open(`https://translate.google.com/#view=home&op=translate&sl=en&tl=zh-CN&text=${r}`,"_blank"),"baidu-go-blank"==t.target.className&&window.open(`https://fanyi.baidu.com/#en/zh/${r}`,"_blank")},!1),v.addEventListener("mouseover",function(t){"icon-pronounce"==t.target.className&&(m=t.target,g=setTimeout(function(){chrome.runtime.sendMessage({select:r,type:"sound"})},200),m.onmouseout=function(t){clearTimeout(g)})}),v.addEventListener("click",function(t){var e=t.target;"icon-note"==t.target.className&&"收藏"==t.target.innerHTML.trim()&&chrome.runtime.sendMessage({en:r,zh:v.getElementById("tianya_query_str").innerText,yujing:l,fanyi:d,yujingId:c,projectId:u,fanyiExtraData:p,source:f,type:"addnote"},function(t){t?(window.postMessage({type:"addMarkAndReportPage",data:t},location.href),e.innerHTML="已收藏"):e.innerHTML="收藏失败"})}),(o=document.createElement("iframe")).id="translationDetailIframe",o.scrolling="yes",o.addEventListener("mousewheel",function(t){t.preventDefault()},!1),o.addEventListener("transitionend",function(t){/show/.test(o.className)||(o.style.left="-10000px")},!1),o.onload=function(){o.className="show"},document.body.appendChild(o)}chrome.runtime.sendMessage({select:r,type:"getTranslation"},function(t){!function(t){h.innerHTML=a({data:t,title:t[0],detail:t[1]}),i=v.getElementById("translation-triangle");var e,n=v.getElementById("translation-content"),s=b.offsetHeight,r=b.offsetWidth,l=y.getBoundingClientRect(),c=l.left+(l.right-l.left)/2-r/2,d=document.documentElement.clientHeight,u=document.documentElement.clientWidth;c<0?(i.style.marginLeft=c-10+"px",c=0):u-c<r?(i.style.marginLeft=-10+r-u+c+"px",c=u-r):i.style.marginLeft="-10px";b.style.left=c+"px",l.top-s-10>0?(n.className="translation-wrap show triangle-bottom",e=l.top-10,b.style.top="auto",b.style.bottom=d-e+"px"):(n.className="translation-wrap show triangle-top",e=l.bottom+10,b.style.bottom="auto",b.style.top=e+"px");var p;function f(){w=!1,document.documentElement.removeEventListener("mousedown",p),n.className="translation-wrap",b.style.left="-3000px",o.className=""}w=!0,document.documentElement.addEventListener("mousedown",p=function(t){2!=t.button&&(b.contains(t.target)||f())},!1),window.onresize=function(){f()},window.onscroll=function(){f()}}(t)})}}}},500)},!1)}(t)}),"https://fanyi.mlife.top"===location.origin){let t=0,e=null;e=setInterval(()=>{++t>10&&clearInterval(e),window.postMessage({type:"userBrowserHasInstallExtension"})},2e3)}},function(t,e,n){},function(t,e,n){var a=n(8);t.exports=function(t){"use strict";var e="",n=(t=t||{}).detail,i=a.$escape,o=t.title,s=a.$each;t.$value,t.$index;return null!==n?(e+='\n    <section class="translation-wrap" id="translation-content">\n        <span class="triangle" id="translation-triangle"></span>\n        <header class="translation-header">\n            <i class="icon"></i><span>翻译</span>\n        </header>\n        <div class="translation-content">\n            <h3>\n                <div class="title1">\n                    <span class="transition-word" id="tianya_query_str">',e+=i(o[0][0]),e+='</span>\n                    <i class="icon-note" id="tianya_note_btn">收藏</i>\n                    <span class="baidu-go-detail">详细</span>\n                    <span class="google-go-detail">Google新窗口</span>\n                    <span class="baidu-go-blank">百度新窗口</span>\n                </div>\n                <div class="pronounce"><span>[',e+=i(o[1][3]),e+=']</span> <i class="icon-pronounce"></i></div>\n            </h3>\n            <ul class="explain" id="tianya_response_str">\n                ',e+=i(o[0][0]),e+='\n            </ul>\n            <h3 class="web-title">\n                <span class="title">来自Google</span>\n            </h3>\n            <dl class="web-explain-list">\n                ',s(n,function(t,n){e+='\n                    <dt class="web-explain-title">',e+=i(t[0]),e+='</dt>\n                    <dd class="web-explain-detail">',e+=i(t[1].join(" | ")),e+="</dd>\n                "}),e+="\n            </dl>\n        </div>\n    </section>\n    "):(e+='\n    <section class="translation-wrap" id="translation-content">\n        <span class="triangle" id="translation-triangle"></span>\n        <header class="translation-header">\n            <i class="icon"></i><span>翻译</span>\n        </header>\n        <div class="translation-content sentence">\n            <h3 class="web-title">\n                <span class="title">来自Google</span>\n            </h3>\n            <div class="detail" id="tianya_response_str">\n                <span class="transition-word" id="tianya_query_str">',e+=i(o[0][0]),e+='</span>\n            </div>\n            <h3 class="h3title">\n                <i class="icon-pronounce"></i>\n                <i class="icon-note" id="tianya_note_btn">收藏</i>\n                <span class="baidu-go-detail">详细</span>\n                <span class="google-go-detail">Google新窗口</span>\n                <span class="baidu-go-blank">百度新窗口</span>\n            </h3>\n        </div>\n    </section>\n'),e}},function(t,e,n){"use strict";t.exports=n(9)},function(t,e,n){"use strict";(function(e){
/*! art-template@runtime | https://github.com/aui/art-template */
var n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},a=Object.create(n),i=/["&'<>]/;a.$escape=function(t){return function(t){var e=""+t,n=i.exec(e);if(!n)return t;var a="",o=void 0,s=void 0,r=void 0;for(o=n.index,s=0;o<e.length;o++){switch(e.charCodeAt(o)){case 34:r="&#34;";break;case 38:r="&#38;";break;case 39:r="&#39;";break;case 60:r="&#60;";break;case 62:r="&#62;";break;default:continue}s!==o&&(a+=e.substring(s,o)),s=o+1,a+=r}return s!==o?a+e.substring(s,o):a}(function t(e){"string"!=typeof e&&(e=null==e?"":"function"==typeof e?t(e.call(e)):JSON.stringify(e));return e}(t))},a.$each=function(t,e){if(Array.isArray(t))for(var n=0,a=t.length;n<a;n++)e(t[n],n);else for(var i in t)e(t[i],i)},t.exports=a}).call(this,n(10))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n}]);
//# sourceMappingURL=registerSelect.js.map